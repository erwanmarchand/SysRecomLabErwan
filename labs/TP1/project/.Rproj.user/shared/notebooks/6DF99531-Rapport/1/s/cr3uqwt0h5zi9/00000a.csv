"0","m.sparse.star.trek <- as.matrix(m.sparse[which(!is.na(m[,indice.star.trek])),i.distance.star.trek]) # on ne considere que les utilisateurs ayant deja votÃ©s pour star trek"
"0","m.star.trek <- as.matrix(m.sparse.star.trek)"
"0","m.star.trek[m.star.trek==0] <- NA"
"0","wcos.sums.star.trek <- m.star.trek"
"0","wcos.sums.star.trek[!is.na(wcos.sums.star.trek)] <- 1"
"0","wcos.sums.star.trek[is.na(wcos.sums.star.trek)] <- 0"
"0","wcos.sums.star.trek <- abs(wcos.sums.star.trek %*% (as.matrix(wcos.voisin)))"
"0","wcos.sums.star.trek[wcos.sums.star.trek==0] <- NA"
"0","means.voisins = colMeans(m.star.trek, na.rm = TRUE) # moyenne pour chaque voisin avec vote des utilisateurs ayant votÃ©s pour star trek"
"0","means.voisins[is.nan(means.voisins)] <- NA"
"0","temp <- t(t(m.star.trek)-means.voisins)"
"0","temp[is.na(temp)] <- 0"
"0","notes.star.trek.predicted <- temp%*%wcos.voisin/wcos.sums.star.trek "
"0","notes.star.trek.predicted[notes.star.trek.predicted == 0] <- NA"
"0","notes.star.trek.predicted <- mean.star.trek + notes.star.trek.predicted "
